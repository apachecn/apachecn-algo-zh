# 48. Rotate Image

**<font color=red>éš¾åº¦: Medium</font>**

## åˆ·é¢˜å†…å®¹

> åŸé¢˜è¿æ¥

* https://leetcode.com/problems/rotate-image/description/

> å†…å®¹æè¿°

```
You are given an n x n 2D matrix representing an image.

Rotate the image by 90 degrees (clockwise).

Note:

You have to rotate the image in-place, which means you have to modify the input 2D matrix directly. DO NOT allocate another 2D matrix and do the rotation.

Example 1:

Given input matrix = 
[
  [1,2,3],
  [4,5,6],
  [7,8,9]
],

rotate the input matrix in-place such that it becomes:
[
  [7,4,1],
  [8,5,2],
  [9,6,3]
]
Example 2:

Given input matrix =
[
  [ 5, 1, 9,11],
  [ 2, 4, 8,10],
  [13, 3, 6, 7],
  [15,14,12,16]
], 

rotate the input matrix in-place such that it becomes:
[
  [15,13, 2, 5],
  [14, 3, 4, 1],
  [12, 6, 8, 9],
  [16, 7,10,11]
]
```

## è§£é¢˜æ–¹æ¡ˆ

> æ€è·¯ 1
******- æ—¶é—´å¤æ‚åº¦: O(row * col)******- ç©ºé—´å¤æ‚åº¦: O(1)******


å…ˆå°†çŸ©é˜µä¸Šä¸‹ç¿»è½¬ï¼Œç„¶åå°†çŸ©é˜µæ²¿ä¸»å¯¹è§’çº¿ï¼ˆå³å·¦ä¸Šåˆ°å³ä¸‹ï¼‰ä¸­å¿ƒå¯¹ç§°ç¿»è½¬ï¼Œå³å¯å®ç°é¡ºæ—¶é’ˆ90åº¦æ—‹è½¬ã€‚


- ä¸Šä¸‹ç¿»è½¬è§„å¾‹ [i][:] --> [n-1-i][:]
- å¯¹è§’çº¿å˜æ¢çš„è§„å¾‹æ˜¯ [i][j] --> [j][i]


ä¾‹å¦‚ï¼š
```
1 1 1    3 3 3    3 2 1
2 2 2 -> 2 2 2 -> 3 2 1
3 3 3    1 1 1    3 2 1
```


```python
class Solution(object):
    def rotate(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: void Do not return anything, modify matrix in-place instead.
        """
        n = len(matrix)
        # ä¸Šä¸‹ç¿»è½¬
        for i in range(n/2):
            matrix[i], matrix[n-1-i] = matrix[n-1-i], matrix[i]
        # ä¸»å¯¹è§’çº¿ç¿»è½¬
        for i in range(n):
            for j in range(i+1,n):
                matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]
```


> æ€è·¯ 2
******- æ—¶é—´å¤æ‚åº¦: O(row * col)******- ç©ºé—´å¤æ‚åº¦: O(1)******

å‚è€ƒè¿™é‡Œ

<http://www.lifeincode.net/programming/leetcode-rotate-image-java/>

æ‰¾è§„å¾‹ï¼Œä¸€æ¬¡å®Œæˆå››ä¸ªæ•°çš„è¯¥æœ‰çš„å˜æ¢

```

1 	2 	3 	4 	5 					

6 	7 	8 	9 	10 	

11 	12 	13 	14 	15 	

16 	17 	18 	19 	20 	

21 	22 	23 	24 	25 

```

åœ¨æ€è·¯ä¸€çš„è§£æ³•ä¸‹è§‚å¯Ÿå¾—å‡ºï¼Œæ¯ä¸ªå…ƒç´ çš„å˜æ¢æ˜¯ [x][y] -> [n-1-x][y] -> [y][n-1-x] -> [n-1-y][x]


```python
class Solution(object):
    def rotate(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: void Do not return anything, modify matrix in-place instead.
        """
        n = len(matrix)
        for i in range(n/2):
            for j in range(n-n/2):
                matrix[i][j], matrix[~j][i], matrix[~i][~j], matrix[j][~i] = \
                         matrix[~j][i], matrix[~i][~j], matrix[j][~i], matrix[i][j]
```
è¿™é‡Œçš„```[~i]``` æ„æ€å°±æ˜¯ ```[n-1-i]```



> æ€è·¯ 3
******- æ—¶é—´å¤æ‚åº¦: O(row * col)******- ç©ºé—´å¤æ‚åº¦: O(1)******

åˆ†å±‚ç¿»è½¬ï¼Œä»æœ€å¤–å±‚ç¿»è½¬ï¼Œä¸€ç›´ç¿»è½¬åˆ°æœ€é‡Œé¢ä¸€å±‚ï¼Œå‚è€ƒ[Bittiger](https://www.youtube.com/watch?v=cIoGuSCU14A)

beats 94.49%

```python
class Solution(object):
    def rotate(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: void Do not return anything, modify matrix in-place instead.
        """
        def rotateOneLayer(layer):
            size = len(matrix)
            for i in range(layer, len(matrix)-1-layer):
                matrix[layer][i], matrix[i][size-1-layer], matrix[size-1-layer][size-1-i], matrix[size-1-i][layer] = \
                matrix[size-1-i][layer], matrix[layer][i], matrix[i][size-1-layer], matrix[size-1-layer][size-1-i]
            
        for layer in range((len(matrix)+1)/2):
            rotateOneLayer(layer)
```


> æ€è·¯ 4
******- æ—¶é—´å¤æ‚åº¦: O(row * col)******- ç©ºé—´å¤æ‚åº¦: O(1)******

ç›´æ¥ç”¨zipå‡½æ•°ï¼Œä¸€è¡Œ, ğŸ˜‚

```python
class Solution:
    def rotate(self, matrix):
        """
        :type matrix: List[List[int]]
        :rtype: void Do not return anything, modify matrix in-place instead.
        """
        matrix[:] = zip(*matrix[::-1])
```





