# 347. Top K Frequent Elements

**<font color=red>éš¾åº¦: Medium</font>**

## åˆ·é¢˜å†…å®¹

> åŸé¢˜è¿æ¥

* https://leetcode.com/problems/top-k-frequent-elements/description/

> å†…å®¹æè¿°

```
Given a non-empty array of integers, return the k most frequent elements.

Example 1:

Input: nums = [1,1,1,2,2,3], k = 2
Output: [1,2]
Example 2:

Input: nums = [1], k = 1
Output: [1]
Note:

You may assume k is always valid, 1 â‰¤ k â‰¤ number of unique elements.
Your algorithm's time complexity must be better than O(n log n), where n is the array's size.
```

## è§£é¢˜æ–¹æ¡ˆ

> æ€è·¯ 1

æ€è·¯å°±æ˜¯æˆ‘ä»¬å…ˆæŠŠå¯¹åº”çš„æ•°å­—å’Œå…¶å‡ºç°é¢‘æ¬¡æ”¾åˆ°ä¸€ä¸ªmapé‡Œé¢ï¼Œç„¶åå¯¹è¿™ä¸ªmapsé‡Œé¢çš„value()é›†åˆåšä¸€ä¸ªfor loopï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªlistï¼Œ
listé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ ä»£è¡¨çš„å°±æ˜¯countä¸ºè¯¥å¯¹åº”indexçš„keyï¼ˆå³æ•°å­—ï¼‰çš„é›†åˆ

ä¾‹å¦‚ï¼š
```
k = 2
nums = [1,1,1,2,2,3,4,4]æ—¶ï¼Œ

æˆ‘ä»¬çš„mapså°±æ˜¯{1: 3, 2: 2, 3: 1},
ç„¶åæˆ‘ä»¬æ–°å»ºä¸€ä¸ªbucketsï¼Œ
- countä¸º3çš„æ•°å­—æœ‰1ï¼Œæˆ‘ä»¬å°±ä»¤bucktes[3] = [1], 
- countä¸º2çš„æ•°å­—æœ‰2å’Œ4ï¼Œæˆ‘ä»¬å°±ä»¤buckets[2] = [2,4]
- countä¸º1çš„æ•°å­—æœ‰3ï¼Œæˆ‘ä»¬å°±ä»¤buckets[1] = [3]


æœ€åæˆ‘ä»¬ä»bucktesçš„æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹éå†ï¼Œå¦‚æœè¯¥å…ƒç´ ä¸ä¸ºåˆå§‹åŒ–çš„'*'çš„è¯,æˆ‘ä»¬å°±æŠŠå½“å‰å…ƒç´ ï¼ˆtype listï¼‰çš„å…ƒç´ å…¨éƒ¨extendåˆ°resä¸­å»ï¼Œæœ€åè¿”å›res
```


æ—¶é—´å¤æ‚åº¦ä¸ºO(n)

```python
class Solution(object):
    def topKFrequent(self, nums, k):
        """
        :type nums: List[int]
        :type k: int
        :rtype: List[int]
        """
        res, maps, buckets = [], collections.Counter(nums), ['*'] * (len(nums)+1)

        for key in maps.keys():
            count = maps.get(key)
            if buckets[count] == '*':
                buckets[count] = []
            buckets[count].append(key)
        i = len(nums)
        while len(res) < k and i >= 0:
            if buckets[i] != '*':
                res.extend(buckets[i])
            i -= 1
        return res
```

> æ€è·¯ 2

å¦‚æœé¢˜ç›®æ²¡æœ‰è¦æ±‚æ—¶é—´å¤æ‚åº¦å¿…é¡»è¦ä¼˜äºo(nlgn)çš„è¯ï¼Œä¸‹é¢è¿™ä¸ªè§£æ³•çœŸçš„ğŸ‚p


```python
class Solution(object):
    def topKFrequent(self, nums, K):
        """
        :type nums: List[int]
        :type k: int
        :rtype: List[int]
        """
        return [k for k,v in sorted(collections.Counter(nums).items(), key=lambda (k,v): -v)][:K]
```
